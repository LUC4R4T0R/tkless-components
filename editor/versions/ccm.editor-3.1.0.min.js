(function(){const component={name:"editor",version:[3,1,0],ccm:"https://ccmjs.github.io/ccm/versions/ccm-20.0.0.js",config:{editor:["ccm.load",[["https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/darcula.min.css","https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"],["https://ccmjs.github.io/tkless-components/libs/quill/quill.js","https://cdn.quilljs.com/1.2.0/quill.snow.css","https://ccmjs.github.io/tkless-components/editor/resources/default.css"]]],settings:{modules:{toolbar:[[{header:[1,2,3,4,5,6,false]}],["bold","italic","underline"],["image"]]},placeholder:"Write here...",theme:"snow"}},Instance:function(){let editor;let self=this;let $;let data;this.init=(async()=>{$=self.ccm.helper});this.ready=(async()=>{if(hljs)hljs.initHighlightingOnLoad()});this.start=(async()=>{let div=$.html({});this.element.innerHTML="";this.element.appendChild(div);editor=new Quill(div,self.settings);if(hljs&&this.settings.modules.syntax){const customButton=self.element.querySelector(".ql-code-block");customButton.addEventListener("click",()=>{hljs.highlightBlock(self.element.querySelector("div[contenteditable=true] > pre"))})}if(self.data){data=await $.dataset(self.data);editor.root.innerHTML=($.isObject(data)?data.inner:data)||""}if(self.onchange)self.element.querySelector(".ql-editor").addEventListener("blur",async function(){self.onchange.call(self)})});this.get=(()=>editor);this.getValue=(()=>{const value=editor.root.innerHTML;return $.isObject(data)?{inner:value}:value})}};let b="ccm."+component.name+(component.version?"-"+component.version.join("."):"")+".js";if(window.ccm&&null===window.ccm.files[b])return window.ccm.files[b]=component;(b=window.ccm&&window.ccm.components[component.name])&&b.ccm&&(component.ccm=b.ccm);"string"===typeof component.ccm&&(component.ccm={url:component.ccm});let c=(component.ccm.url.match(/(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)/)||["latest"])[0];if(window.ccm&&window.ccm[c])window.ccm[c].component(component);else{var a=document.createElement("script");document.head.appendChild(a);component.ccm.integrity&&a.setAttribute("integrity",component.ccm.integrity);component.ccm.crossorigin&&a.setAttribute("crossorigin",component.ccm.crossorigin);a.onload=function(){window.ccm[c].component(component);document.head.removeChild(a)};a.src=component.ccm.url}})();