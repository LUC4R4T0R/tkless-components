{"version":3,"names":["DEFAULT_LINK_REL","LinkTarget","NONE","SELF","BLANK","PARENT","TOP","NullCharactersRegExp","InvisibleCharactersRegExp","removeNullCharacters","str","replaceInvisible","console","error","replace","parseQueryString","query","params","Map","key","value","URLSearchParams","set","toLowerCase","addLinkAttributes","link","url","target","rel","enabled","Error","urlNullRemoved","href","title","onclick","targetStr","PDFLinkService","pagesRefCache","constructor","eventBus","externalLinkTarget","externalLinkRel","ignoreDestinationZoom","this","externalLinkEnabled","_ignoreDestinationZoom","baseUrl","pdfDocument","pdfViewer","pdfHistory","setCcmInstance","instance","ccmInstance","setDocument","clear","pagesCount","numPages","page","getPage","pdfGoTo","rotation","info","goToDestinationHelper","rawDest","namedDest","explicitDest","destRef","pageNumber","_cachedPageNumber","getPageIndex","then","pageIndex","cachePageRef","catch","e","Number","isInteger","async","dest","getDestination","Array","isArray","goToPage","val","newWindow","force_target_blank","getDestinationHash","length","getAnchorUrl","escape","JSON","stringify","anchor","setHash","hash","includes","has","dispatch","source","get","phraseSearch","zoomArgs","split","zoomArg","zoomArgNumber","parseFloat","name","mode","goToDestination","unescape","parse","toString","ex","isValidExplicitDestination","executeNamedAction","action","back","forward","pageNum","pageRef","refStr","gen","num","isPageVisible","isPageCached","static","destLength","zoom","allowNull","i","param"],"sources":["PDFLinkService.js"],"mappings":"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"}