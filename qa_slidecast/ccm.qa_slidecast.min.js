(()=>{const component={name:"qa_slidecast",ccm:"https://ccmjs.github.io/ccm/versions/ccm-27.1.1.min.js",config:{comment:["ccm.component","https://ccmjs.github.io/tkless-components/comment/versions/ccm.comment-7.0.0.min.js"],css:["ccm.load","https://ccmjs.github.io/tkless-components/qa_slidecast/resources/styles.min.css","https://ccmjs.github.io/tkless-components/libs/bootstrap-5/css/bootstrap-icons.min.css",{url:"https://ccmjs.github.io/tkless-components/libs/bootstrap-5/css/bootstrap-fonts.min.css",context:"head"}],description:true,helper:["ccm.load","https://ccmjs.github.io/akless-components/modules/versions/helper-7.6.0.mjs"],html:["ccm.load","https://ccmjs.github.io/tkless-components/qa_slidecast/resources/templates.mjs"],pdf_viewer:["ccm.start","https://ccmjs.github.io/tkless-components/pdf_viewer/versions/ccm.pdf_viewer-7.0.0.min.js"],routing:["ccm.instance","https://ccmjs.github.io/akless-components/routing/versions/ccm.routing-2.0.7.min.js"],ignore:{slides:[]},text:{comments:"Shows the Comments of this Slide",description:"Shows the Description of this Slide"},user:["ccm.start","https://ccmjs.github.io/akless-components/user/versions/ccm.user-9.7.2.min.js"]},Instance:function(){let $;let slide_nr=1;this.init=(async()=>{$=Object.assign({},this.ccm.helper,this.helper);$.use(this.ccm);this.ignore.slides.forEach(slide=>!slide.key&&(slide.key=$.generateKey()));if(!this.comment)return;if(!this.comment.config.data.key)this.comment.config.data.key=$.generateKey();this.comment.config.user=JSON.parse(this.config).user});this.ready=(async()=>{this.logger&&this.logger.log("ready",$.privatize(this,true))});this.start=(async()=>{this.logger&&this.logger.log("start",this.getValue());await this.render()});this.render=(async skip=>{const slide_data=this.ignore.slides[slide_nr-1];this.html.render(this.html.main(this,slide_nr,events),this.element);if(!skip){const slide_element=this.element.querySelector("#slide");switch(typeof slide_data.content){case"number":$.setContent(slide_element,this.pdf_viewer.root);this.pdf_viewer.goTo(slide_nr);break;case"string":const ends_with=slide_data.content.split(".").pop();switch(ends_with){case"apng":case"gif":case"jpg":case"jpeg":case"jfif":case"pjpeg":case"pjp":case"png":case"svg":this.html.render(this.html.image(slide_data.image),slide_element);break;case"mp4":case"ogg":case"webm":this.html.render(this.html.audio(slide_data.video),slide_element);break}break;case"object":if(!$.isInstance(slide_data.content))slide_data.content=await $.solveDependency(slide_data.content);$.setContent(slide_element,slide_data.content.root);break;default:$.setContent(slide_element,"")}if(slide_data.description&&typeof slide_data.description!=="string"){slide_data.description=await $.solveDependency(slide_data.description);await slide_data.description.start();$.setContent(this.element.querySelector("#description"),slide_data.description.root)}if(this.comment&&slide_data.commentary!==false){if(!slide_data.comments)slide_data.comments=await this.comment.start({"data.key":this.comment.config.data.key+"-"+slide_data.key});$.setContent(this.element.querySelector("#comments"),slide_data.comments.root)}}});this.getValue=(()=>{return{slide_nr:slide_nr,slides:$.clone(this.ignore.slides)}});const events={onDescription:()=>{const slide_data=this.ignore.slides[slide_nr-1];if(!slide_data.description)return;this.open=this.open==="description"?"":"description";this.render(true)},onComments:()=>{const slide_data=this.ignore.slides[slide_nr-1];if(!this.comment||slide_data.commentary===false)return;this.open=this.open==="comments"?"":"comments";this.render(true)}}}};let b="ccm."+component.name+(component.version?"-"+component.version.join("."):"")+".js";if(window.ccm&&null===window.ccm.files[b])return window.ccm.files[b]=component;(b=window.ccm&&window.ccm.components[component.name])&&b.ccm&&(component.ccm=b.ccm);"string"===typeof component.ccm&&(component.ccm={url:component.ccm});let c=(component.ccm.url.match(/(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)/)||[""])[0];if(window.ccm&&window.ccm[c])window.ccm[c].component(component);else{var a=document.createElement("script");document.head.appendChild(a);component.ccm.integrity&&a.setAttribute("integrity",component.ccm.integrity);component.ccm.crossorigin&&a.setAttribute("crossorigin",component.ccm.crossorigin);a.onload=function(){(c="latest"?window.ccm:window.ccm[c]).component(component);document.head.removeChild(a)};a.src=component.ccm.url}})();